import{T as p}from"./TextBox-7a965e88.js";import{B as h}from"./ButtonLink-43715362.js";import{_ as w,B as _,e as i,s as g,c as d,a as r,b as s,F as x,f as n,g as c}from"./index-4f0251ba.js";import{R as v}from"./ReusableHeader-d460a56a.js";import{u as P}from"./useVerify-b9fe02ca.js";import{S as y}from"./SuccessComponent-d31b415f.js";import"./XMarkIcon-ae1ed58b.js";const b={components:{TextBox:p,ButtonLink:h,Button:_,ReusableHeader:v,SuccessComponent:y},data(){return{name:"",email:"",confirmPassword:"",oldPassword:"",newPassword:"",showSuccessPanel:!1,errors:{},id:"",image:"/images/placeholder.jpg"}},setup(){P("owner")},mounted(){const o=JSON.parse(localStorage.getItem("logged_in_user"));this.getUser(o.data.id)},methods:{handleChange(o){const e=o.target.name;this[e]=o.target.value},async continueAction(){this.$router.push("/owner/profile")},async onPressRegister(){const o={oldPassword:this.oldPassword,newPassword:this.newPassword,confirmPassword:this.confirmPassword,id:this.id},e=await i.updatePassword(o);e.type==="success"&&(this.showSuccessPanel=!0),e.type==="error"&&(this.errors=e.data)},async getUser(o){const e=await i.get(o);e.type==="success"&&(this.id=e.data.id,e.data.picture!=="/placeholder.jpg"&&(this.image=g+"/users/"+e.data.picture))}}},C={class:"w-11/12 mx-auto flex justify-center items-center h-[500px]"},B={key:0,class:"md:w-7/12 w-11/12 h-auto border rounded md:h-80"},j={key:1,"data-aos":"slide-up","data-aos-duration":"500",class:"md:w-10/12 w-full flex justify-between items-center h-[80%] rounded-lg border"},S={class:"md:w-7/12 flex h-[80%] md:p-6 p-4 justify-center flex-col"},k=s("h1",{class:"font-semibold text-2xl text-blue-600 mb-3"},"Modifer votre mot de passe.",-1),V={class:"h-full w-full flex flex-col"},R={class:"w-full flex md:space-x-1 flex-col md:flex-row justify-between"},N={class:"md:w-full"},T={class:"md:w-full"},H={class:"w-full items-center my-3 flex justify-between"},M={class:"w-5/12 md:flex hidden items-center justify-center h-full"},A={class:"w-44 h-44 border grid place-items-center rounded-full"},E=["src"];function F(o,e,L,U,t,a){const u=n("ReusableHeader"),m=n("SuccessComponent"),l=n("TextBox"),f=n("Button");return c(),d(x,null,[r(u,{title:"Modifier votre compte"}),s("div",C,[t.showSuccessPanel?(c(),d("div",B,[r(m,{title:"Mot de passe modifie",message:"La modification de votre mot de passe a ete effectuee.Vous utliserez desormain le nouveau mot de passe.",path:"/owner/profile"})])):(c(),d("div",j,[s("div",S,[k,s("form",V,[s("div",R,[r(l,{onChange:a.handleChange,label:"Ancien mot de passe",type:"password",name:"oldPassword",placeholder:"Votre ancien mot de passe",value:t.name,err:t.errors.oldPassword},null,8,["onChange","value","err"])]),s("div",N,[r(l,{onChange:a.handleChange,label:"Nouveau mot de passe",name:"newPassword",type:"text",placeholder:"Votre nouveau mot de passe",value:t.newPassword,err:t.errors.newPassword},null,8,["onChange","value","err"])]),s("div",T,[r(l,{onChange:a.handleChange,label:"Confirmer mot de passe",name:"confirmPassword",type:"password",placeholder:"Votre nouveau mot de passe",value:t.confirmPassword,err:t.errors.confirmPassword},null,8,["onChange","value","err"])])]),s("div",H,[r(f,{text:"Enregistrer les modifications",variant:"bg",design:"primary",onClick:a.onPressRegister},null,8,["onClick"])])]),s("div",M,[s("div",A,[s("img",{src:t.image,class:"w-full h-full rounded-full object-cover"},null,8,E)])])]))])],64)}const K=w(b,[["render",F]]);export{K as default};
