import{T as d}from"./TextBox-7a965e88.js";import{_ as p,B as f,C as h,c as r,a as t,b as n,f as o,g as a}from"./index-4f0251ba.js";import{B as g}from"./ButtonLink-43715362.js";import{C as _}from"./category-855ddfae.js";import{P as x}from"./PagesNavigationHeader-c8c7004e.js";import{S as y}from"./SuccessComponent-d31b415f.js";import"./ArrowLeftIcon-5af96ac5.js";import"./XMarkIcon-ae1ed58b.js";const v={components:{ButtonLink:g,Button:f,TextBox:d,CheckCircleIcon:h,PagesNavigationHeader:x,SuccessComponent:y},mounted(){},data(){return{errors:{},name:"",promptSuccessBox:!1}},methods:{async handleInput(e){this[e.target.name]=e.target.value},async onPressCreate(){const e=await _.create(this.name);e.type==="error"?this.errors=e.data:e.type==="success"?(this.errors={},this.promptSuccessBox=!0):e.type==="auth"&&(localStorage.removeItem("admin"),this.$router.push("/admin/login"))}}},C={class:"w-full md:h-[90%] flex justify-center items-center"},b={key:0,class:"md:w-5/12 border w-11/12 md:mb-5 mb-3 mt-10 bg-white __shad shadow-gray-200 flex h-auto rounded p-8 justify-center flex-col"},B=n("p",{class:"text-gray-600 mb-3 text-sm"},"Remplissez le champ ci-bas pour enregister une nouvelle catégorie.",-1),w={class:"h-full w-full flex flex-col"},k={class:"w-full flex mt-3 justify-between"},S={key:1,class:"md:w-7/12 border w-[95%] md:mb-5 mb-3 mt-10 md:h-80 bg-white __shad shadow-gray-200 flex rounded justify-center flex-col"};function N(e,P,j,E,s,c){const i=o("PagesNavigationHeader"),m=o("TextBox"),l=o("Button"),u=o("SuccessComponent");return a(),r("div",C,[s.promptSuccessBox?(a(),r("div",S,[t(u,{path:"/admin/categories",title:"Enregitrement effectué !",message:"La catégorie a été enregistrée avec succès. Elle est maintenant utilisable partout. Vous pouvez la modifier mais pas la supprimer définitivément."})])):(a(),r("div",b,[t(i,{title:"Ajout  d'une catégorie"}),B,n("form",w,[t(m,{onChange:c.handleInput,type:"text",name:"name",label:"Nom de la catégorie",value:s.name,placeholder:"Nom de la catégorie",err:s.errors.name},null,8,["onChange","value","err"])]),n("div",k,[t(l,{text:"Enregistrer",variant:"bg",design:"primary",onClick:c.onPressCreate},null,8,["onClick"])])]))])}const q=p(v,[["render",N]]);export{q as default};
