import{T as y}from"./TextBox-7a965e88.js";import{_ as b,B as v,C as B,y as S,e as m,c as t,a as l,b as e,t as d,F as k,i as C,w as j,q as V,d as u,f as i,g as a,j as N}from"./index-4f0251ba.js";import{B as F}from"./ButtonLink-43715362.js";import{r as A}from"./FaceFrownIcon-bef8e4a9.js";import{P as I}from"./PagesNavigationHeader-c8c7004e.js";import{S as P}from"./SuccessComponent-d31b415f.js";import{u as T}from"./useVerify-b9fe02ca.js";import"./ArrowLeftIcon-5af96ac5.js";import"./XMarkIcon-ae1ed58b.js";const E={components:{ButtonLink:F,Button:v,TextBox:y,CheckCircleIcon:B,PagesNavigationHeader:I,SuccessComponent:P,FaceFrownIcon:A},mounted(){},setup(){return T(),{prettyString:S}},data(){return{errors:{},name:"",promptSuccessBox:!1,loading:!1,searchBoxValue:"",showSearchBox:!1,users:[],user:{}}},mounted(){},methods:{chooseUser(s){this.searchBoxValue=s.name,this.showSearchBox=!1,this.user=s},async handleInput(s){this[s.target.name]=s.target.value},async handleSearchBox(s){if(s.target.value.length>2){this.showSearchBox=!0;const r=await m.search(s.target.value);console.log(r),this.users=Array.isArray(r.data)?r.data:[r.data]}else this.showSearchBox=!1;this.searchBoxValue=s.target.value},async onPressAssign(){(await m.assignManagerToBranch({shop:this.$route.params.shop_id,branch:this.$route.params.branch_id,user:this.user.id})).type==="success"&&(this.promptSuccessBox=!0)}}},z={class:"w-full md:h-[90%] flex justify-center items-center"},H={key:0,class:"lg:w-6/12 md:w-8/12 border w-11/12 md:mb-5 mb-3 mt-10 bg-white __shad shadow-gray-200 flex h-auto rounded p-8 justify-center flex-col"},L={class:"flex w-full my-2 justify-between items-center"},U=e("span",{class:"font-semibold"},"Nom du shop",-1),q=e("p",{class:"text-gray-600 mb-3 text-sm"},"Choisissez le prprietaire a assossier a ce shop",-1),D={class:"h-full w-full flex flex-col"},M={class:"relative max-h-96 mt-1 border rounded p-1 w-full"},O=["value","placeholder"],G={key:0,"data-aos-duration":"300",class:"w-full shadow z-50 absolute top-10 rounded p-2 h-60 bg-white border left-0 mt-1"},J={key:0,class:"w-full animate-pulse"},K=N('<div class="w-full flex justify-between mt-3 h-8"><span class="w-20 h-2 rounded bg-gray-300"></span><span class="w-5 h-2 rounded bg-gray-300"></span></div><div class="w-full flex justify-between h-8"><span class="w-32 h-2 rounded bg-gray-300"></span><span class="w-5 h-2 rounded bg-gray-300"></span></div><div class="w-full flex justify-between h-8"><span class="w-14 h-2 rounded bg-gray-300"></span><span class="w-5 h-2 rounded bg-gray-300"></span></div><div class="w-full flex justify-between h-8"><span class="w-40 h-2 rounded bg-gray-300"></span><span class="w-5 h-2 rounded bg-gray-300"></span></div><div class="w-full flex justify-between h-8"><span class="w-20 h-2 rounded bg-gray-300"></span><span class="w-5 h-2 rounded bg-gray-300"></span></div>',5),Q=[K],R={key:1,class:"w-full"},W=["onClick"],X=u(),Y={key:2,class:"w-full h-full grid text-gray-600 place-items-center"},Z={class:"w-fit flex flex-col items-center h-fit"},$={class:"w-9/12 mx-auto text-center"},ee=u("Aucun resultat pour ce nom d'utilisateur. Verifier l'orthographe ou "),se=u("créer d'abord cet utilisateur"),te=u(" ."),ae={class:"w-full flex mt-3 justify-between"},oe={key:1,class:"md:w-7/12 border w-[95%] md:mb-5 mb-3 mt-10 md:h-80 bg-white __shad shadow-gray-200 flex rounded justify-center flex-col"};function re(s,r,ne,h,o,c){var p;const f=i("PagesNavigationHeader"),_=i("FaceFrownIcon"),g=i("router-link"),w=i("Button"),x=i("SuccessComponent");return a(),t("div",z,[o.promptSuccessBox?(a(),t("div",oe,[l(x,{path:"/admin/categories",title:"Enregitrement effectué !",message:"La catégorie a été enregistrée avec succès. Elle est maintenant utilisable partout. Vous pouvez la modifier mais pas la supprimer définitivément."})])):(a(),t("div",H,[l(f,{title:"Assigner un proprietaire a un shop"}),e("div",L,[U,e("span",null,d(h.prettyString(this.$route.params.shop_name,!0)),1)]),q,e("form",D,[e("div",M,[e("input",{onInput:r[0]||(r[0]=(...n)=>c.handleSearchBox&&c.handleSearchBox(...n)),value:o.searchBoxValue,class:"h-8 w-full outline-none",placeholder:`Taper le nom de l'utilisateur à ${h.prettyString(this.$route.params.shop_name,!0)}`},null,40,O),o.showSearchBox?(a(),t("div",G,[o.loading?(a(),t("div",J,Q)):!o.loading&&o.users.length>0?(a(),t("div",R,[(a(!0),t(k,null,C(o.users,n=>(a(),t("div",{onClick:()=>c.chooseUser(n),class:"w-full hover:bg-gray-100 cursor-pointer rounded p-1 flex justify-between",key:n.id},[e("span",null,d(n.name),1),X,e("span",null,d(n.level),1)],8,W))),128))])):(a(),t("div",Y,[e("div",Z,[l(_,{class:"h-16 w-16 mb-2"}),e("small",$,[ee,l(g,{class:"text-blue-600 font-semibold",to:"/register"},{default:j(()=>[se]),_:1}),te])])]))])):V("",!0)])]),e("div",ae,[l(w,{text:"Enregistrer [ "+((p=o.user)==null?void 0:p.name)+" ] comme gerant",variant:"bg",design:"primary",onClick:c.onPressAssign},null,8,["text","onClick"])])]))])}const _e=b(E,[["render",re]]);export{_e as default};
