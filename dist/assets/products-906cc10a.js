import{_ as P,I as N,J as j,C as A,r as d,o as V,K as L,y as E,c as w,b as t,a as r,t as c,w as k,F as O,i as D,q as C,d as p,j as M,f as l,g as u,H as q,v as B,p as F}from"./index-4f0251ba.js";import{r as J}from"./ArrowLeftIcon-5af96ac5.js";import{r as Q}from"./EyeIcon-c90102af.js";import{r as $}from"./NoSymbolIcon-7e058231.js";import{r as z}from"./PencilIcon-abb9d0b0.js";import{r as H}from"./PlusCircleIcon-d060796b.js";import{P as K}from"./product-f3166d18.js";import{h as R}from"./moment-fbc5633a.js";import{u as T}from"./useVerify-b9fe02ca.js";const G={components:{BarsArrowDownIcon:N,ArrowLeftIcon:J,PlusCircleIcon:H,PencilIcon:z,ArchiveBoxIcon:j,CheckCircleIcon:A,NoSymbolIcon:$,EyeIcon:Q},setup(){T("owner");const i=d([]),n=d([]),a=d(0),o=d(0),_=d(""),f=d(0),g=F();async function b(s){const e=await K.getShopOwner(s);e.type==="success"&&(i.value=e.data)}function v(){const s=i.value.length;f.value=s;const e=s/50;o.value=Math.ceil(e)-1;const m=i.value.slice();n.value=m.splice(0,50),a.value=0,_.value="1-50"}function h(){g.back()}function y(){a.value<o.value&&(a.value+=1)}function x(){a.value<=o.value&&a.value!=0&&(a.value-=1)}function I(s){const e=s*50;n.value=i.value.slice(e,e+50),a.value=s,a.value===o.value?_.value=`${e} - ${f}`:_.value=`${e} - ${e+50}`}return V(()=>{const s=JSON.parse(localStorage.getItem("logged_in_user"));s&&b(s.data.id).then(()=>v())}),L({currentStep(s,e){I(s)}}),{prettyString:E,types:i,data:n,currentStep:a,moment:R,maxSteps:o,interval:_,total:f,next:y,goBack:h,prev:x}}},U={class:"w-full h-full grid place-items-center"},W={class:"w-[95%] rounded shadow flex flex-col pt-2 pb-4 px-4 h-auto py-6 bg-white"},X={class:"w-full sticky top-0 bg-white flex items-center justify-between h-14 mb-3 border-b border-gray-300"},Y={class:"text-lg font-semibold text-gray-700 flex"},Z=p(),ee=t("span",{class:"mx-1"},"|",-1),te=p(),oe=p(" Liste de vos produits"),se={class:"w-[40%] flex items-center justify-between h-full"},ne={class:"text-gray-600"},ae={class:"w-[15%] flex items-center justify-between"},re={class:"h-8 w-8 mr-2 rounded bg-gray-300 grid place-items-center"},ce=p(),le={class:"bg-blue-600 hover:bg-blue-700 hover:shadow-blue-300 hover:shadow-lg flex text-white duration-500 transition-colors rounded p-1 font-semibold"},ie=p("Ajouter"),de=M('<div class="w-full text-gray-700 mb-3 font-semibold flex justify-between border-b border-gray-300 p-2"><span class="w-1/12">#</span><span class="w-3/12">Nom</span><span class="w-2/12">Categ.</span><span class="w-1/12">Qty.</span><span class="w-1/12">Prix</span><span class="w-1/12">Status</span><span class="w-1/12">Modif.</span><span class="w-1/12 text-center">---</span></div>',1),ue={class:"flex flex-col"},pe={class:"w-1/12"},_e={class:"w-3/12"},he={class:"w-2/12"},fe={class:"w-1/12"},me={class:"w-1/12"},we={class:"w-1/12"},ge=p(),be={class:"w-1/12"},ve={class:"w-1/12 flex justify-center space-x-2"},ye={class:"w-6 h-6 bg-gray-700 rounded text-white grid place-items-center"},xe={class:"w-6 h-6 bg-gray-700 rounded text-white grid place-items-center"};function Ie(i,n,a,o,_,f){const g=l("ArrowLeftIcon"),b=l("ArchiveBoxIcon"),v=l("PlusCircleIcon"),h=l("router-link"),y=l("CheckCircleIcon"),x=l("NoSymbolIcon"),I=l("EyeIcon"),s=l("PencilIcon");return u(),w("div",U,[t("div",W,[t("div",X,[t("h1",Y,[t("span",{onClick:n[0]||(n[0]=(...e)=>o.goBack&&o.goBack(...e)),class:"w-7 p-1 h-7 mr-3 rounded-full hover:bg-blue-600 cursor-pointer bg-blue-600 text-white"},[r(g,{class:"w-full h-full"})]),Z,ee,te,r(b,{class:"h-7 w-7 mr-2"}),oe]),t("div",se,[t("button",{onClick:n[1]||(n[1]=(...e)=>o.prev&&o.prev(...e)),class:"bg-gray-800 hover:bg-gray-700 h-fit hover:shadow-gray-300 hover:shadow-lg flex text-white duration-500 transition-colors rounded p-1 border border-gray-800 font-semibold"},"← Précedent"),t("span",ne,c(o.interval),1),t("button",{onClick:n[2]||(n[2]=(...e)=>o.next&&o.next(...e)),class:"bg-gray-800 hover:bg-gray-700 h-fit hover:shadow-gray-300 hover:shadow-lg flex text-white duration-500 transition-colors rounded p-1 border border-gray-800 font-semibold"},"Suivant →")]),t("div",ae,[t("span",re,c(o.total),1),ce,r(h,{to:"/owner/products/create"},{default:k(()=>[t("button",le,[r(v,{class:"h-6 w-6 mr-1"}),ie])]),_:1})])]),de,o.data?(u(!0),w(O,{key:0},D(o.data,e=>{var m,S;return u(),w("div",ue,[(u(),w("div",{key:e.prod_id,class:q(`w-full text-gray-700 text-sm mb-1.5 font-semibold flex justify-between ${o.data.indexOf(e)%2==0?"bg-white":"bg-gray-100"} p-2`)},[t("span",pe,c(o.data.indexOf(e)+1),1),t("span",_e,c(e.prod_name),1),t("span",he,c(e.category),1),t("span",fe,c((m=e.quantity)==null?void 0:m.split("_")[1]),1),t("span",me,c((S=e.price)==null?void 0:S.split("_")[1])+"$",1),t("span",we,[e.prod_status==1?(u(),B(y,{key:0,class:"text-green-600 w-5 h-5"})):C("",!0),ge,e.prod_status==0?(u(),B(x,{key:1,class:"text-red-600 w-5 h-5"})):C("",!0)]),t("span",be,c(o.moment(e.last_update).fromNow(!0)),1),t("span",ve,[r(h,{to:"/owner/products/"+o.prettyString(e.prod_name)+"/"+e.prod_id},{default:k(()=>[t("span",ye,[r(I,{class:"w-4 h-4"})])]),_:2},1032,["to"]),r(h,{to:"/owner/products/"+o.prettyString(e.prod_name)+"/"+e.prod_id+"/update"},{default:k(()=>[t("span",xe,[r(s,{class:"w-4 h-4"})])]),_:2},1032,["to"])])],2))])}),256)):C("",!0)])])}const Le=P(G,[["render",Ie]]);export{Le as default};
