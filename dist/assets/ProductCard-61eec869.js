import{k as x,r as o,o as I,s as $,y as v,O as C,ab as S,ac as k,_ as j,g as q,c as B,b as e,t as c,a,w as y,d as w,p as A,f as r}from"./index-4f0251ba.js";import{r as P}from"./PhoneIcon-b7b5cd97.js";import{a as T}from"./format-date-ae167d6c.js";import{W}from"./Whatsapp-6d47fcdb.js";const D=x({props:{content:Object},setup(t){const i=o(""),_=o(""),p=o(""),m=o(""),l=o(0),d=o(0),h=o(""),f=A(),u=o(""),b=()=>{var s;const n="/cart/add/"+v(t.content.prod_name)+"/"+t.content.quantity+"&"+t.content.quantity_1+"&"+t.content.quantity_2+"&"+t.content.quantity_3+"/"+t.content.price+"&"+t.content.price_1+"&"+t.content.price_2+"&"+t.content.price_3+"/"+((s=t.content.files)==null?void 0:s.split(",")[0])+"/"+t.content.prod_id;f.push(n)},g=n=>n.length<=140?n:n.slice(0,135)+"...";return I(()=>{var s;i.value=t.content.prod_name,l.value=t.content.quantity.split("_")[1],t.content.price=="P_"?(d.value=t.content.price_1.split("_")[1],l.value=t.content.quantity_1.split("_")[1]):(d.value=t.content.price.split("_")[1],l.value=t.content.quantity.split("_")[1]),m.value=t.content.category,p.value=t.content.branch_name?t.content.branch_contact:t.content.shop_contact,_.value=t.content.branch_name?t.content.branch_whatsapp:t.content.shop_whatsapp,u.value=t.content.branch_location?t.content.branch_location_name:t.content.shop_location_name;const n=(s=t.content.files)==null?void 0:s.split(",");h.value=n?n[0]?$+"/products/"+n[0]:"/placeholder.jpg":"/images/placeholder-no-prod.jpg"}),{props:t,prettyString:v,name:i,quantity:l,location:u,price:d,category:m,stripString:g,image:h,addToCart:b,formatDateToAgo:T,contact:p,whatsapp:_}},components:{BuildingStorefrontIcon:C,GlobeEuropeAfricaIcon:S,ShoppingCartIcon:k,Whatsapp:W,PhoneIcon:P}}),E={class:"md:w-72 w-[90vw] text-sm h-[420px] shadow-lg hover:shadow-blue-300 transition-colors duration-500 border hover:border-none hover:shadow-xl overflow-hidden rounded"},G={class:"h-48 relative w-full"},N=["src"],V={class:"absolute bottom-2 right-2 bg-blue-600 text-white py-0.5 bg-opacity-60 backdrop-blur px-1 rounded-full"},O={class:"p-1 flex flex-col h-[calc(100%-192px)] justify-between"},M={class:"overflow-hidden font-semibold my-0.5 w-full"},R={class:"flex items-center justify-between"},z={class:"text-3xl font-bold text-blue-600"},F={class:"px-1 py-0.5 rounded-full"},H=e("div",{class:"text-white text-[12px] rounded-full px-1 py-0.5 bg-green-600"},"In stock",-1),J={class:"flex px-1 items-center py-0.5 text-sm rounded-full w-fit border border-gray-300 bg-gray-200 my-2"},K={class:"ml-1"},L={class:"flex mt-1 text-sm justify-between"},Q=w("Details"),U=["href"],X=["href"];function Y(t,i,_,p,m,l){var n;const d=r("BuildingStorefrontIcon"),h=r("router-link"),f=r("GlobeEuropeAfricaIcon"),u=r("PhoneIcon"),b=r("Whatsapp"),g=r("ShoppingCartIcon");return q(),B("div",E,[e("div",G,[e("img",{src:t.image,class:"w-full h-full object-cover",alt:""},null,8,N),e("span",V,c(t.category),1)]),e("div",O,[e("p",M,c(t.stripString(t.name)),1),e("div",R,[e("div",z,"$"+c(t.price),1),e("div",F,"+"+c(t.quantity)+" pcs",1),H]),a(h,{to:"/shops/"+t.content.shop_id,class:"flex px-1 items-center py-0.5 hover:text-blue-600 rounded mt-1"},{default:y(()=>[a(d,{class:"w-5 h-5 mr-1"}),w(c(t.content.shop_name),1)]),_:1},8,["to"]),e("span",J,[a(f,{class:"w-5 h-5 mr-1"}),w(c(t.location||"--")+" | ",1),e("b",K,c(t.formatDateToAgo(t.content.created_at)),1)]),e("div",L,[a(h,{to:"/products/"+t.prettyString(t.content.prod_name)+"/"+t.content.prod_id,class:"rounded px-1 font-semibold h-fit w-fit bg-white flex items-center text-blue-600"},{default:y(()=>[Q]),_:1},8,["to"]),e("a",{href:`tel:${t.contact}`,class:"w-7 text-white grid mr-1 place-items-center bg-red-600 rounded h-7"},[a(u,{class:"w-5 h-5"})],8,U),e("a",{target:"blank",href:`https://wa.me/${(n=t.whatsapp)==null?void 0:n.slice(1)}/?text= Bonjour, je suis interesse(e) par votre produit, *${t.content.prod_name}.* 
 https://muyisphere.com/products/${t.content.prod_id}`,class:"w-7 text-white grid place-items-center bg-green-600 rounded h-7"},[a(b,{class:"w-5 fill-white h-5"})],8,X),e("button",{onClick:i[0]||(i[0]=(...s)=>t.addToCart&&t.addToCart(...s)),class:"h-7 rounded px-1 font-semibold w-7 bg-blue-600 flex items-center hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-300 text-white"},[a(g,{class:"w-5 h-5"})])])])])}const ot=j(D,[["render",Y]]);export{ot as P};
