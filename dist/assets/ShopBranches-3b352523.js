import{r as B}from"./PlusCircleIcon-d060796b.js";import{G as C}from"./GoBackAdminButton-a12efcb1.js";import{r as E,a as N}from"./MapIcon-a987ddd3.js";import{k as D,r as _,o as v,s as G,l as L,m as M,n as V,x as W,_ as y,f as o,g as r,v as x,w as $,b as e,a,d as p,t as m,c as d,j as P,F as b,i as w,z as S,u as F}from"./index-4f0251ba.js";import{r as H}from"./PhoneIcon-b7b5cd97.js";import{h as z}from"./moment-fbc5633a.js";import{L as R}from"./location-bd5000e1.js";import{W as T}from"./Whatsapp-6d47fcdb.js";import{_ as U}from"./placeholder-no-prod-a79b0627.js";import{N as q}from"./NoData-17646524.js";import{u as J}from"./useVerify-b9fe02ca.js";import{B as K}from"./branch-689a9ce0.js";import"./ArrowLeftIcon-5af96ac5.js";import"./FaceFrownIcon-82098295.js";const O=D({props:["details"],setup({details:s}){const l=_([]),c=async()=>{const t=await R.getAll();t.type==="success"&&(l.value=Array.isArray(t.data)?t.data:[t.data])};return v(()=>{c()}),{...s,store:G,moment:z,locations:l}},components:{UserIcon:L,EnvelopeIcon:M,PhoneIcon:H,HomeModernIcon:V,GlobeEuropeAfricaIcon:W,MapIcon:E,CalendarDaysIcon:N,Whatsapp:T}}),Q={class:"h-40 w-full"},X=["src"],Y={class:"mt-1 flex flex-col justify-around h-[150px] p-2"},Z={class:"font-semibold flex mb-1 items-end"},ee={class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},se={class:"flex text-gray-600 items-end text-sm mb-1"},ae={class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},te={class:"flex text-gray-600 items-end text-sm mb-1"},re={class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},ne={class:"flex justify-between"},oe={href:"mailto:",class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},ce=["href"],de=["href"];function le(s,l,c,t,f,h){const n=o("HomeModernIcon"),u=o("GlobeEuropeAfricaIcon"),i=o("CalendarDaysIcon"),I=o("EnvelopeIcon"),k=o("PhoneIcon"),j=o("Whatsapp"),A=o("router-link");return r(),x(A,{to:"/admin/shops/"+s.shop_id+"/branches/"+s.id,class:"h-[320px] m-1 w-80 bg-white __shad border overflow-hidden rounded"},{default:$(()=>{var g;return[e("div",Q,[e("img",{src:s.store+"/shops/"+s.logo||"@/assets/images/examples/9.png",class:"w-full h-full object-cover"},null,8,X)]),e("div",Y,[e("div",Z,[e("span",ee,[a(n,{class:"h-5 w-5"})]),p(m(s.name),1)]),e("div",se,[e("span",ae,[a(u,{class:"h-5 w-5"})]),p(m(s.location)+","+m(s.full_address),1)]),e("div",te,[e("span",re,[a(i,{class:"h-5 w-5"})]),p(m(s.moment(s.last_update).format("ll")),1)]),e("div",ne,[e("a",oe,[a(I,{class:"h-5 w-5"})]),e("a",{href:"tel:"+s.contact,class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},[a(k,{class:"h-5 w-5"})],8,ce),e("a",{target:"_blank",href:`https://wa.me/${(g=s.contact_whatsapp)==null?void 0:g.slice(1)}/?text= Bonjour, je suis interesse(e) par les produits de votre shop *${s.name}*`,class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},[a(j,{class:"h-5 w-5"})],8,de)])])]}),_:1},8,["to"])}const ie=y(O,[["render",le]]),me={},pe={class:"h-[400px] animate-pulse m-1 w-80 bg-white __shad border overflow-hidden rounded"},he=P('<div class="h-40 bg-gray-100 w-full"><img src="'+U+'" class="w-full h-full object-cover"></div><div class="mt-1 p-2"><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-56 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-44 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-28 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-44 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-24 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-36 mr-2 place-items-center grid bg-gray-100 rounded"></span></div><div class="flex items-end mb-1"><span class="h-7 w-7 mr-2 place-items-center grid bg-gray-100 rounded"></span><span class="h-7 w-24 mr-2 place-items-center grid bg-gray-100 rounded"></span></div></div>',2),ue=[he];function _e(s,l){return r(),d("div",pe,ue)}const fe=y(me,[["render",_e]]),ge={class:"w-full h-full"},be={class:"w-[95%] mx-auto h-full"},we={class:"w-full flex justify-between items-end p-2 bg-white mt-3 rounded"},ve={class:"text-lg text-gray-700 font-semibold flex"},ye=p(),xe=e("span",{class:"ml-2"}," Liste de toutes vos branches",-1),$e={class:"flex w-fit items-center"},Ie={class:"h-8 w-8 font-semibold grid place-items-center bg-gray-200 rounded mr-2"},ke={class:"bg-blue-600 flex justify-evenly w-fit items-center p-1 rounded mr-1 text-white"},je=p(" Ajouter "),Ae={key:0,class:"flex justify-evenly mt-5 flex-wrap"},Be={key:1,class:"flex justify-evenly mt-5 flex-wrap"},Ce={key:2,class:""},Te={__name:"ShopBranches",setup(s){J();const l=S(),c=_([]),t=_(!1),f=async h=>{t.value=!0;const n=await K.getForShop(h);n.type==="success"&&n.data!=!1&&(c.value=Array.isArray(n.data)?n.data:[n.data]),t.value=!1};return v(()=>f(l.params.id)),(h,n)=>{const u=o("router-link");return r(),d("section",ge,[e("div",be,[e("div",we,[e("h1",ve,[a(C),ye,xe]),e("span",$e,[e("span",Ie,m(c.value.length),1),a(u,{to:"/owner/branches/add"},{default:$(()=>[e("span",ke,[je,a(F(B),{class:"w-6 h-6"})])]),_:1})])]),c.value.length>0&&!t.value?(r(),d("div",Ae,[(r(!0),d(b,null,w(c.value,i=>(r(),x(ie,{details:i,key:i.id},null,8,["details"]))),128))])):t.value?(r(),d("div",Be,[(r(),d(b,null,w(3,i=>a(fe)),64))])):(r(),d("div",Ce,[a(q,{name:"aucune branche",link:"/owner/branches/add"})]))])])}}};export{Te as default};
