import{r as q}from"./CheckCircleIcon-fc1bb9cf.js";import{r as T}from"./LinkIcon-3dcb2223.js";import{r as F,a as D}from"./PencilIcon-56cedd2d.js";import{r as V}from"./PlusCircleIcon-d060796b.js";import{G as E}from"./GoBackAdminButton-a12efcb1.js";import{R as G}from"./ReusableHeader-d460a56a.js";import{P as S}from"./product-f3166d18.js";import{L as O}from"./location-bd5000e1.js";import{_ as R,k as M,r as d,o as H,s as Q,D as z,c as r,a as u,b as s,t as o,w as $,v as p,F as P,i as L,q as U,z as W,E as J,e as K,d as N,f as c,g as i}from"./index-4f0251ba.js";import{u as X}from"./useVerify-b9fe02ca.js";import{S as Y,C as Z}from"./carousel.es-517fd42d.js";import{h as ss}from"./moment-fbc5633a.js";import{B as es}from"./branch-689a9ce0.js";import{r as os}from"./LockClosedIcon-b61b0585.js";import{r as ts}from"./LockOpenIcon-9e251320.js";import{r as ns}from"./ShareIcon-fff54b1f.js";import{r as ls}from"./TrashIcon-a9119023.js";import"./ArrowLeftIcon-5af96ac5.js";const as=M({setup(){const e=W();X("owner");const t=d({}),v=d([]),_=d(""),g=d(""),k=d(""),h=d(""),m=d({}),b=d([]),f=d(!1),j=async n=>{const l=await S.getData(n);l.type==="success"&&(t.value=l.data,v.value=l.data.files.split(","),_.value=l.data.files.split(",")[0],l.data.price.length>2&&(k.value=l.data.price.split("_")[1]+" $",h.value=l.data.quantity.split("_")[1]+" pcs"))},x=async n=>{const l=await es.getForShop(n);l.type==="success"&&(b.value=Array.isArray(l.data)?l.data:[l.data])},C=async()=>{const n=await O.getAll();if(n.type==="success"){const l=n.data.filter(A=>A.id==t.value.location);g.value=l[0]?l[0].name:"Non trouver"}},I=async()=>{const n=t.value.uploader_type.toLowerCase()=="admin"?await J.getAdmin(t.value.uploader_id):await K.get(t.value.uploader_id);n.type==="success"&&(m.value=n.data)},w=n=>{_.value=n},y=async()=>{const n=t.value.status==1?0:1;(await S.changeStatus(n,t.value.prod_id)).type==="success"&&(t.value.status=n)},B=async n=>{(await S.exportTo(n.id,t.value.prod_id)).type==="success"&&(f.value=!1,t.value.branch=n.name)},a=async()=>{};return H(()=>{j(e.params.id).then(C).then(I).then(()=>x(t.value.shop_id))}),{prod:t,files:v,store:Q,currentFile:_,branches:b,showBranches:f,onClickFile:w,changeStatus:y,deleteProduct:a,shareProduct:B,location:g,prices:k,quantities:h,moment:ss,uploader:m}},components:{ReusableHeader:G,PencilIcon:F,PlusCircleIcon:V,GoBackAdminButton:E,CheckCircleIcon:q,NoSymbolIcon:D,LinkIcon:T,Slide:Y,Carousel:Z,Bars3BottomLeftIcon:z,TrashIcon:ls,LockClosedIcon:os,ShareIcon:ns,LockOpenIcon:ts}}),is={class:"w-[95%] h-auto bg-white my-5 rounded p-3 mx-auto"},cs={class:"w-full flex justify-between items-center pb-2 border-b h-14"},ds={class:"text-lg text-gray-700 flex"},rs=N(),us={class:"ml-2"},ps=N("Information sur "),fs={class:"font-semibold"},_s={class:"flex relative w-fit items-center"},hs={class:"bg-gray-200 flex justify-evenly w-fit items-center p-1 rounded mr-1 text-gray-600"},ms={key:0,class:"w-44 text-sm h-72 p-1 bg-white rounded shadow absolute top-10 right-0"},bs=s("div",{class:"text-gray-500 my-2"},"Transferer vers : ",-1),ws=["onClick"],ys={class:"w-full flex pt-20"},vs={class:"w-[50%] h-full"},gs={class:"w-[80%] h-72 rounded overflow-hidden border"},ks=["src"],js={class:"h-[16%] flex space-x-2 mt-2 w-full"},xs=["onClick"],Cs=["src"],Is={class:"w-[50%] h-full flex justify-between"},Bs={class:"w-full p-2 h-64 flex flex-col justify-between"},Ss={class:"flex justify-between"},Ps=s("span",{class:"font-semibold"},"Nom du produit",-1),Ns={class:"flex justify-between"},$s=s("span",{class:"font-semibold"},"Cat.",-1),Ls={class:"flex justify-between"},As=s("span",{class:"font-semibold"},"Ext.",-1),qs={class:"flex justify-between"},Ts=s("span",{class:"font-semibold"},"Mod.",-1),Fs={class:"flex justify-between"},Ds=s("span",{class:"font-semibold"},"Marq.",-1),Vs={class:"flex justify-between"},Es=s("span",{class:"font-semibold"},"Type.",-1),Gs={class:"flex justify-between"},Os=s("span",{class:"font-semibold"},"Serie.",-1),Rs={class:"w-full flex pt-5 border-t mt-3"},Ms={class:"w-[50%] h-full flex justify-between"},Hs={class:"w-full p-2 border-r h-64 flex flex-col justify-between"},Qs={class:"flex justify-between"},zs=s("span",{class:"font-semibold"},"Shop",-1),Us={class:"flex justify-between"},Ws=s("span",{class:"font-semibold"},"Branche.",-1),Js={class:"flex justify-between"},Ks=s("span",{class:"font-semibold"},"Ville.",-1),Xs={class:"flex justify-between"},Ys=s("span",{class:"font-semibold"},"Address.",-1),Zs={class:"flex justify-between"},se=s("span",{class:"font-semibold"},"WhatsApp.",-1),ee={class:"flex justify-between"},oe=s("span",{class:"font-semibold"},"Phone.",-1),te={class:"flex justify-between"},ne=s("span",{class:"font-semibold"},"Email.",-1),le={class:"w-[50%] h-full flex justify-between"},ae={class:"w-full p-2 border-r h-64 flex flex-col justify-between"},ie={class:"flex justify-between"},ce=s("span",{class:"font-semibold"},"Prix",-1),de={class:"flex justify-between"},re=s("span",{class:"font-semibold"},"Quantite",-1),ue={class:"flex justify-between"},pe=s("span",{class:"font-semibold"},"Disponibilite.",-1),fe={key:0,class:"text-green-500"},_e={key:1,class:"text-yellow-500"},he={key:2,class:"text-red-500"},me={class:"flex justify-between"},be=s("span",{class:"font-semibold"},"Status.",-1),we={class:"flex justify-between"},ye=s("span",{class:"font-semibold"},"Forme.",-1),ve={class:"text-blue-600"},ge={class:"flex justify-between"},ke=s("span",{class:"font-semibold"},"Date de creation.",-1),je={class:"flex justify-between"},xe=s("span",{class:"font-semibold"},"Modif.",-1),Ce={class:"w-full flex mt-10 border-t"},Ie={class:"w-[62.5%] py-2"},Be=s("span",{class:"text-gray-800 text-lg font-semibold"},"Information sur celui qui a mis le produit en ligne",-1),Se={class:"w-full p-3 border-r h-48 flex flex-col justify-between"},Pe={class:"flex justify-between"},Ne=s("span",{class:"font-semibold"},"Noms",-1),$e={class:"flex justify-between"},Le=s("span",{class:"font-semibold"},"Email",-1),Ae={class:"flex justify-between"},qe=s("span",{class:"font-semibold"},"Téléphone",-1),Te={class:"flex justify-between"},Fe=s("span",{class:"font-semibold"},"Type",-1),De={class:"flex justify-between"},Ve=s("span",{class:"font-semibold"},"Status.",-1),Ee={class:"w-[37.5%] py-2"},Ge={class:"w-full p-3 h-48 grid place-items-center"},Oe={class:"w-9/12 flex flex-col h-fit items-center text-center"},Re=s("span",{class:"text-sm"},"Ce produit est ajouter avec le consentement du proprietaire qui, accepte notre politique de vente et nos regles de confidentialites. Ajouer des produits enfin de toucher plus de clients.",-1),Me={class:"bg-blue-600 flex justify-evenly mt-2 w-fit items-center p-1 rounded mr-2 text-white"},He=N(" Ajouter un produit ");function Qe(e,t,v,_,g,k){const h=c("ReusableHeader"),m=c("GoBackAdminButton"),b=c("PencilIcon"),f=c("router-link"),j=c("LockClosedIcon"),x=c("LockOpenIcon"),C=c("TrashIcon"),I=c("ShareIcon"),w=c("CheckCircleIcon"),y=c("NoSymbolIcon"),B=c("PlusCircleIcon");return i(),r(P,null,[u(h,{keywords:"owner",description:"profile",title:e.prod.prod_name},null,8,["title"]),s("div",is,[s("div",cs,[s("h1",ds,[u(m),rs,s("span",us,[ps,s("span",fs,o(e.prod.prod_name),1)])]),s("span",_s,[u(f,{to:"/admin/products/"+e.prod.prod_id+"/update"},{default:$(()=>[s("span",hs,[u(b,{class:"w-6 h-6"})])]),_:1},8,["to"]),s("span",{onClick:t[0]||(t[0]=(...a)=>e.changeStatus&&e.changeStatus(...a)),class:"w-8 h-8 bg-gray-200 rounded border grid place-items-center mr-1 text-gray-600 cursor-pointer"},[e.prod.status==0?(i(),p(j,{key:0,class:"w-6 h-6"})):(i(),p(x,{key:1,class:"w-6 h-6"}))]),s("span",{onClick:t[1]||(t[1]=(...a)=>e.deleteProduct&&e.deleteProduct(...a)),class:"w-8 h-8 bg-gray-200 rounded border grid place-items-center mr-1 text-gray-600 cursor-pointer"},[u(C,{class:"w-6 h-6"})]),s("span",{onClick:t[2]||(t[2]=a=>e.showBranches=!e.showBranches),class:"w-8 h-8 bg-gray-200 rounded border grid place-items-center text-gray-600 cursor-pointer"},[u(I,{class:"w-6 h-6"})]),e.showBranches==!0?(i(),r("div",ms,[bs,(i(!0),r(P,null,L(e.branches,a=>(i(),r("div",{onClick:()=>e.shareProduct(a),class:"hover:bg-gray-200 cursor-pointer rounded p-1",key:a.id},o(e.branches.indexOf(a)+1+"."+a.name),9,ws))),128))])):U("",!0)])]),s("div",ys,[s("div",vs,[s("div",gs,[s("img",{src:e.store+"/products/"+e.currentFile,class:"h-full w-full object-cover",alt:""},null,8,ks)]),s("div",js,[(i(!0),r(P,null,L(e.files,a=>(i(),r("div",{class:"h-16 w-16 rounded cursor-pointer border",key:a,onClick:()=>e.onClickFile(a)},[s("img",{src:e.store+"/products/"+a,class:"w-full transition-all duration-500 h-full object-cover"},null,8,Cs)],8,xs))),128))])]),s("div",Is,[s("div",Bs,[s("div",Ss,[Ps,s("span",null,o(e.prod.prod_name),1)]),s("div",Ns,[$s,s("span",null,o(e.prod.category),1)]),s("div",Ls,[As,s("span",null,o(e.prod.extension),1)]),s("div",qs,[Ts,s("span",null,o(e.prod.model),1)]),s("div",Fs,[Ds,s("span",null,o(e.prod.mark),1)]),s("div",Vs,[Es,s("span",null,o(e.prod.type),1)]),s("div",Gs,[Os,s("span",null,o(e.prod.set_),1)])])])]),s("div",Rs,[s("div",Ms,[s("div",Hs,[s("div",Qs,[zs,s("span",null,o(e.prod.shop),1)]),s("div",Us,[Ws,s("span",null,o(e.prod.branch_name||"Pas de branche"),1)]),s("div",Js,[Ks,s("span",null,o(e.location),1)]),s("div",Xs,[Ys,s("span",null,o(e.prod.full_address),1)]),s("div",Zs,[se,s("span",null,o(e.prod.mark||"Non donnee"),1)]),s("div",ee,[oe,s("span",null,o(e.prod.phone_shop||"Non donnee"),1)]),s("div",te,[ne,s("span",null,o(e.prod.email_shop||"Non donnee"),1)])])]),s("div",le,[s("div",ae,[s("div",ie,[ce,s("span",null,o(e.prices),1)]),s("div",de,[re,s("span",null,o(e.quantities),1)]),s("div",ue,[pe,e.prod.availability==="green"?(i(),r("span",fe,"In stock")):e.prod.availability==="yellow"?(i(),r("span",_e,"Small Qty")):(i(),r("span",he,"No Stock"))]),s("div",me,[be,e.prod.status==1?(i(),p(w,{key:0,class:"w-6 h-6 text-blue-600"})):(i(),p(y,{key:1,class:"w-6 h-6 text-red-600"}))]),s("div",we,[ye,s("span",ve,o(e.prod.is_brand_new==1?"New":"Old"),1)]),s("div",ge,[ke,s("span",null,o(e.moment(e.prod.created_at).format("ll")),1)]),s("div",je,[xe,s("span",null,o(e.moment(e.prod.created_at).fromNow()),1)])])])]),s("div",Ce,[s("div",Ie,[Be,s("div",Se,[s("div",Pe,[Ne,s("span",null,o(e.uploader.name),1)]),s("div",$e,[Le,s("span",null,o(e.uploader.email),1)]),s("div",Ae,[qe,s("span",null,o(e.uploader.phone||"No number"),1)]),s("div",Te,[Fe,s("span",null,o(e.prod.uploader_type),1)]),s("div",De,[Ve,e.uploader.status==1?(i(),p(w,{key:0,class:"w-6 h-6 text-blue-600"})):(i(),p(y,{key:1,class:"w-6 h-6 text-red-600"}))])])]),s("div",Ee,[s("div",Ge,[s("div",Oe,[Re,u(f,{to:"/owner/shop/"+e.prod.shop_id+"/products/create"},{default:$(()=>[s("span",Me,[He,u(B,{class:"w-4 ml-1 h-4"})])]),_:1},8,["to"])])])])])])],64)}const uo=R(as,[["render",Qe]]);export{uo as default};
