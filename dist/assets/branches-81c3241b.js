import{r as x}from"./PlusCircleIcon-d060796b.js";import{B}from"./branch-689a9ce0.js";import{G as I}from"./GoBackAdminButton-a12efcb1.js";import{r as k,a as A}from"./MapIcon-a987ddd3.js";import{k as b,s as C,l as j,m as G,n as M,x as E,_ as $,g as c,c as i,b as s,a as n,d as p,t as h,p as P,f as t,r as g,o as N,w as V,F as O,i as W,q as H,v as S}from"./index-4f0251ba.js";import{r as D}from"./PhoneIcon-b7b5cd97.js";import{W as F}from"./Whatsapp-6d47fcdb.js";import{u as L}from"./useVerify-b9fe02ca.js";import"./ArrowLeftIcon-5af96ac5.js";const q=b({props:{details:Object},setup({details:e}){const o=P();return{...e,store:C,redirect:()=>{o.push("/owner/branches/"+e.id)}}},components:{UserIcon:j,EnvelopeIcon:G,PhoneIcon:D,HomeModernIcon:M,GlobeEuropeAfricaIcon:E,MapIcon:k,CalendarDaysIcon:A,WhatsApp:F}}),J={class:"h-40 w-full"},R=["src"],T={class:"mt-1 flex flex-col justify-around h-[140px] p-2"},U={class:"font-semibold flex mb-1 items-end"},z={class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},K={class:"flex text-gray-600 text-sm items-end mb-1"},Q={class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},X={class:"flex justify-between"},Y={href:"mailto:",class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},Z=["href"],ee=["href"];function se(e,o,l,a,r,y){var w;const m=t("HomeModernIcon"),u=t("GlobeEuropeAfricaIcon"),_=t("EnvelopeIcon"),f=t("PhoneIcon"),d=t("WhatsApp");return c(),i("div",{onClick:o[0]||(o[0]=(...v)=>e.redirect&&e.redirect(...v)),class:"h-[300px] m-1 w-80 cursor-pointer hover:shadow-xl shadow-lg transition-colors duration-500 hover:shadow-blue-300 border overflow-hidden rounded"},[s("div",J,[s("img",{src:e.store+"/shops/"+e.logo,class:"w-full h-full object-cover"},null,8,R)]),s("div",T,[s("div",U,[s("span",z,[n(m,{class:"h-5 w-5"})]),p(h(e.name),1)]),s("div",K,[s("span",Q,[n(u,{class:"h-5 w-5"})]),p(h(e.location)+","+h(e.full_address),1)]),s("div",X,[s("a",Y,[n(_,{class:"h-5 w-5"})]),s("a",{href:"tel:"+e.contact,class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},[n(f,{class:"h-5 w-5"})],8,Z),s("a",{target:"_blank",href:`https://wa.me/${(w=e.contact_whatsapp)==null?void 0:w.slice(1)}/?text= Bonjour, je suis interesse(e) par les produits de votre shop *${e.name}*`,class:"h-7 w-7 mr-2 border place-items-center grid text-gray-600 rounded"},[n(d,{class:"h-5 w-5"})],8,ee)])])])}const oe=$(q,[["render",se]]),te=b({setup(){L("owner");const e=g([]),o=g(!1),l=async a=>{o.value=!0;const r=await B.getByOwner(a);console.log(r),r.type==="success"&&r.data!=!1&&(e.value=Array.isArray(r.data)?r.data:[r.data]),o.value=!1};return N(()=>{const a=JSON.parse(localStorage.getItem("logged_in_user"));a&&l(a.data.id)}),{branches:e,loading:o}},components:{PlusCircleIcon:x,GoBackAdminButton:I,ManagerBranchCard:oe}}),re={class:"w-full h-full"},ne={class:"w-[95%] mx-auto h-full"},ae={class:"w-full flex justify-between items-end pb-2 border-b h-16"},ce={class:"text-lg text-gray-700 font-semibold flex"},le=p(),de=s("span",{class:"ml-2"}," Liste de toutes vos branches",-1),ie={class:"flex w-fit items-center"},he={class:"h-8 w-8 font-semibold grid place-items-center bg-gray-200 rounded mr-2"},pe={class:"bg-blue-600 flex justify-evenly w-fit items-center p-1 rounded mr-1 text-white"},me=p(" Ajouter "),ue={key:0,class:"flex justify-evenly mt-5 flex-wrap"};function _e(e,o,l,a,r,y){const m=t("GoBackAdminButton"),u=t("PlusCircleIcon"),_=t("router-link"),f=t("ManagerBranchCard");return c(),i("section",re,[s("div",ne,[s("div",ae,[s("h1",ce,[n(m),le,de]),s("span",ie,[s("span",he,h(e.branches.length),1),n(_,{to:"/owner/shops/branches/create"},{default:V(()=>[s("span",pe,[me,n(u,{class:"w-6 h-6"})])]),_:1})])]),e.branches.length>0?(c(),i("div",ue,[(c(!0),i(O,null,W(e.branches,d=>(c(),S(f,{details:d,key:d.id},null,8,["details"]))),128))])):H("",!0)])])}const Ie=$(te,[["render",_e]]);export{Ie as default};
