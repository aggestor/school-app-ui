import{T as h}from"./TextBox-7a965e88.js";import{_ as f,B as g,C as _,E as d,c as i,a as t,b as m,f as n,g as l}from"./index-4f0251ba.js";import{B as w}from"./ButtonLink-43715362.js";import{P as x}from"./PagesNavigationHeader-c8c7004e.js";import{S as v}from"./SuccessComponent-d31b415f.js";import{u as y}from"./useVerify-b9fe02ca.js";import"./ArrowLeftIcon-5af96ac5.js";import"./XMarkIcon-ae1ed58b.js";const b={components:{ButtonLink:w,Button:g,TextBox:h,CheckCircleIcon:_,PagesNavigationHeader:x,SuccessComponent:v},data(){return{email:"",password:"",errors:{},name:"",newPassword:"",id:"",promptSuccessBox:!1}},setup(){y("Admin")},mounted(){this.getAdmin()},methods:{async handleInput(e){this[e.target.name]=e.target.value},async getAdmin(){const e=JSON.parse(localStorage.getItem("admin")),o=await d.get(e.data.id);o.type==="success"&&(this.name=o.data.name,this.email=o.data.email,this.id=o.data.id)},async onPressRegister(){const e=await d.update({name:this.name,email:this.email,password:this.password,newPassword:this.newPassword,id:this.id});e.type==="error"?this.errors=e.data:e.type==="success"&&(this.errors={},this.promptSuccessBox=!0)}}},C={class:"w-full md:h-[600px] flex justify-center items-center"},B={key:0,class:"md:w-5/12 border w-11/12 md:mb-5 mb-3 mt-10 bg-white __shad shadow-gray-200 flex h-auto rounded p-8 justify-center flex-col"},P=m("p",{class:"text-gray-600 mb-3 text-sm"},"Modifier les informations ci-bas pour la mise en jour de votre profil.",-1),A={class:"h-full w-full flex flex-col"},S={class:"w-full flex mt-3 justify-between"},k={key:1,class:"md:w-7/12 border w-[95%] md:mb-5 mb-3 mt-10 md:h-80 bg-white __shad shadow-gray-200 flex rounded justify-center flex-col"};function N(e,o,I,V,s,a){const c=n("PagesNavigationHeader"),r=n("TextBox"),u=n("Button"),p=n("SuccessComponent");return l(),i("div",C,[s.promptSuccessBox?(l(),i("div",k,[t(p,{path:"/admin/current",title:"Modification effectuée !",message:"La mise en jour de votre profil administrateur a été faite avec succès."})])):(l(),i("div",B,[t(c,{title:"Modifier profil Admin"}),P,m("form",A,[t(r,{onChange:a.handleInput,type:"text",name:"name",label:"Noms",value:s.name,placeholder:"Votre nom",err:s.errors.name},null,8,["onChange","value","err"]),t(r,{onChange:a.handleInput,type:"text",name:"email",label:"Addresse Email",value:s.email,placeholder:"Votre Email",err:s.errors.email},null,8,["onChange","value","err"]),t(r,{onChange:a.handleInput,type:"text",name:"password",label:"Ancien mot de passe",value:s.password,placeholder:"Votre Ancien Mot de passe (Optionel) ",err:s.errors.password},null,8,["onChange","value","err"]),t(r,{onChange:a.handleInput,type:"text",name:"newPassword",label:"Nouveau mot de passe",value:s.newPassword,placeholder:"Votre nouveau Mot de passe (Optionel)",err:s.errors.newPassword},null,8,["onChange","value","err"])]),m("div",S,[t(u,{text:"Enregistrer les modifications",variant:"bg",design:"primary",onClick:a.onPressRegister},null,8,["onClick"])])]))])}const J=f(b,[["render",N]]);export{J as default};
