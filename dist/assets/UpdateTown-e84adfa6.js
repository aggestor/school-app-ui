import{T as h}from"./TextBox-7a965e88.js";import{_ as y,r as s,o as g,y as v,B as x,C as b,c as u,a as r,b as p,z as w,f as i,g as d}from"./index-4f0251ba.js";import{B as C}from"./ButtonLink-43715362.js";import{P as B}from"./PagesNavigationHeader-c8c7004e.js";import{S as N}from"./SuccessComponent-d31b415f.js";import{u as k}from"./useVerify-b9fe02ca.js";import{L as S}from"./location-bd5000e1.js";import"./ArrowLeftIcon-5af96ac5.js";import"./XMarkIcon-ae1ed58b.js";const P={setup(){k();const l=s({}),a=s(""),n=s(""),e=s(""),m=s(!1);async function f(t){t.target.name=="name"?a.value=t.target.value:n.value=t.target.value}const o=w();g(()=>{o.params&&(e.value=o.params.id,a.value=v(o.params.name,!0),n.value=v(o.params.country,!0))});async function c(){const t=await S.update({name:a.value,country:n.value,id:e.value});t.type==="error"?l.value=t.data:t.type==="success"&&(l.value={},m.value=!0)}return{promptSuccessBox:m,handleInput:f,onPressCreate:c,name:a,country:n,id:e,errors:l}},components:{ButtonLink:C,Button:x,TextBox:h,CheckCircleIcon:b,PagesNavigationHeader:B,SuccessComponent:N}},T={class:"w-full md:h-[90%] flex justify-center items-center"},j={key:0,class:"md:w-5/12 border w-11/12 md:mb-5 mb-3 mt-10 bg-white __shad shadow-gray-200 flex h-auto rounded p-8 justify-center flex-col"},E=p("p",{class:"text-gray-600 mb-3 text-sm"},"Modifier les champs ci-bas pour modifier les donnes de cette ville.",-1),I={class:"h-full w-full flex flex-col"},L={class:"w-full flex mt-3 justify-between"},V={key:1,class:"md:w-7/12 border w-[95%] md:mb-5 mb-3 mt-10 md:h-80 bg-white __shad shadow-gray-200 flex rounded justify-center flex-col"};function H(l,a,n,e,m,f){const o=i("PagesNavigationHeader"),c=i("TextBox"),t=i("Button"),_=i("SuccessComponent");return d(),u("div",T,[e.promptSuccessBox?(d(),u("div",V,[r(_,{path:"/admin/towns",title:"Enregitrement effectué !",message:"La ville a été enregistrée avec succès. Elle est maintenant utilisable partout. Vous pouvez la modifier mais pas la supprimer définitivément."})])):(d(),u("div",j,[r(o,{title:"Modification d'une ville  d'une ville"}),E,p("form",I,[r(c,{onChange:e.handleInput,type:"text",name:"name",label:"Nom de la ville",value:e.name,placeholder:"Nom de la ville",err:e.errors.name},null,8,["onChange","value","err"]),r(c,{onChange:e.handleInput,type:"text",name:"country",label:"Nom du pays",value:e.country,placeholder:"Nom du pays",err:e.errors.country},null,8,["onChange","value","err"])]),p("div",L,[r(t,{text:"Enregistrer",variant:"bg",design:"primary",onClick:e.onPressCreate},null,8,["onClick"])])]))])}const J=y(P,[["render",H]]);export{J as default};
