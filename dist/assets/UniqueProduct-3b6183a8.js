import{r as C}from"./CheckCircleIcon-fc1bb9cf.js";import{r as G,a as N}from"./PencilIcon-56cedd2d.js";import{r as R}from"./PlusCircleIcon-d060796b.js";import{G as U}from"./GoBackAdminButton-a12efcb1.js";import{R as O}from"./ReusableHeader-d460a56a.js";import{P as y}from"./product-f3166d18.js";import{L as Q}from"./location-bd5000e1.js";import{r as d,o as z,c as i,a as r,b as s,t,w as A,v as u,u as n,q as B,F as w,i as S,d as x,z as H,E as W,e as J,f as K,g as a,s as v,p as X}from"./index-4f0251ba.js";import{u as Y}from"./useVerify-b9fe02ca.js";import{h as P}from"./moment-fbc5633a.js";import{B as Z}from"./branch-689a9ce0.js";import{r as ss}from"./LockClosedIcon-b61b0585.js";import{r as es}from"./LockOpenIcon-9e251320.js";import{r as ts}from"./ShareIcon-fff54b1f.js";import{r as os}from"./TrashIcon-a9119023.js";import"./ArrowLeftIcon-5af96ac5.js";const as={class:"w-[95%] h-auto bg-white text-gray-600 my-5 rounded p-3 mx-auto"},ls={class:"w-full flex justify-between items-center pb-2 border-b h-14"},ns={class:"text-lg text-gray-700 flex"},is=x(),cs={class:"ml-2 hidden md:flex"},ds=x("Information sur "),rs={class:"font-semibold ml-1"},us={class:"flex relative w-fit items-center"},_s={class:"bg-blue-600 flex justify-evenly w-fit items-center p-1 rounded mr-1 text-white"},ms={key:1,class:"w-44 text-sm h-72 p-1 bg-white rounded shadow absolute top-10 right-0"},ps=s("div",{class:"text-gray-500 font-semibold my-2"},"Transferer vers : ",-1),hs=["onClick"],fs={class:"text-lg my-2 md:hidden"},ys=x(" Information sur "),vs={class:"font-semibold"},xs={class:"w-full flex md:flex-row flex-col pt-3 md:pt-20"},ws={class:"md:w-1/2 w-full h-full"},bs={class:"md:w-[80%] w-full h-72 rounded overflow-hidden border"},gs=["src"],js=["src"],ks={class:"h-[16%] flex space-x-2 mt-2 w-full"},Cs=["onClick"],Ns=["src"],As=["src"],Bs={class:"md:w-1/2 w-full my-3 md:my-0 h-full flex justify-between"},Ss={class:"w-full md:p-2 md:h-64 flex flex-col justify-between"},Ps={class:"flex justify-between my-1 md:my-0 space-x-1"},$s=s("span",{class:"font-semibold flex"},"Nom ",-1),qs={class:"text-right"},Fs={class:"flex justify-between my-1 md:my-0 space-x-1"},Is=s("span",{class:"font-semibold"},"Cat.",-1),Ms={class:"text-right"},Ts={class:"flex justify-between my-1 md:my-0 space-x-1"},Vs=s("span",{class:"font-semibold"},"Ext.",-1),Ds={class:"text-right"},Es={class:"flex justify-between my-1 md:my-0 space-x-1"},Ls=s("span",{class:"font-semibold"},"Mod.",-1),Gs={class:"text-right"},Rs={class:"flex justify-between my-1 md:my-0 space-x-1"},Us=s("span",{class:"font-semibold"},"Marq.",-1),Os={class:"text-right"},Qs={class:"flex justify-between my-1 md:my-0 space-x-1"},zs=s("span",{class:"font-semibold"},"Type.",-1),Hs={class:"text-right"},Ws={class:"flex justify-between my-1 md:my-0 space-x-1"},Js=s("span",{class:"font-semibold"},"Serie.",-1),Ks={class:"text-right"},Xs={class:"w-full flex flex-col md:flex-row md:pt-5 md:border-t mt-3"},Ys={class:"md:w-1/2 h-full flex justify-between"},Zs={class:"w-full md:p-2 md:border-r md:h-64 flex flex-col justify-between"},se={class:"flex justify-between my-1 md:my-0 space-x-1"},ee=s("span",{class:"font-semibold"},"Shop",-1),te={class:"text-right"},oe={class:"flex justify-between my-1 md:my-0 space-x-1"},ae=s("span",{class:"font-semibold"},"Branche.",-1),le={class:"text-right"},ne={class:"flex justify-between my-1 md:my-0 space-x-1"},ie=s("span",{class:"font-semibold"},"Ville.",-1),ce={class:"text-right"},de={class:"flex justify-between my-1 md:my-0 space-x-1"},re=s("span",{class:"font-semibold"},"Address.",-1),ue={class:"text-right"},_e={class:"flex justify-between my-1 md:my-0 space-x-1"},me=s("span",{class:"font-semibold"},"WhatsApp.",-1),pe={class:"text-right"},he={class:"flex justify-between my-1 md:my-0 space-x-1"},fe=s("span",{class:"font-semibold"},"Phone.",-1),ye={class:"text-right"},ve={class:"flex justify-between my-1 md:my-0 space-x-1"},xe=s("span",{class:"font-semibold"},"Email.",-1),we={class:"text-right"},be={class:"md:w-1/2 h-full flex justify-between"},ge={class:"w-full md:p-2 md:border-r md:h-64 flex flex-col justify-between"},je={class:"flex justify-between my-1 md:my-0 space-x-1"},ke=s("span",{class:"font-semibold"},"Prix",-1),Ce={class:"text-right"},Ne={class:"flex justify-between my-1 md:my-0 space-x-1"},Ae=s("span",{class:"font-semibold"},"Quantite",-1),Be={class:"text-right"},Se={class:"flex justify-between my-1 md:my-0 space-x-1"},Pe=s("span",{class:"font-semibold"},"Disponibilite.",-1),$e={key:0,class:"text-green-500"},qe={key:1,class:"text-yellow-500"},Fe={key:2,class:"text-red-500"},Ie={class:"flex justify-between my-1 md:my-0 space-x-1"},Me=s("span",{class:"font-semibold"},"Status.",-1),Te={class:"flex justify-between my-1 md:my-0 space-x-1"},Ve=s("span",{class:"font-semibold"},"Forme.",-1),De={class:"text-blue-600"},Ee={class:"flex justify-between my-1 md:my-0 space-x-1"},Le=s("span",{class:"font-semibold"},"Date de creation.",-1),Ge={class:"flex justify-between my-1 md:my-0 space-x-1"},Re=s("span",{class:"font-semibold"},"Modif.",-1),Ue={class:"w-full flex flex-col md:flex-row mt-10 md:border-t"},Oe={class:"md:w-[62.5%] w-full py-2"},Qe=s("span",{class:"text-gray-800 text-lg font-semibold"},"Information sur celui qui a mis le produit en ligne",-1),ze={class:"w-full md:p-3 md:border-r h-48 flex flex-col justify-between"},He={class:"flex justify-between"},We=s("span",{class:"font-semibold"},"Noms",-1),Je={class:"flex justify-between"},Ke=s("span",{class:"font-semibold"},"Email",-1),Xe={class:"flex justify-between"},Ye=s("span",{class:"font-semibold"},"Téléphone",-1),Ze={class:"flex justify-between"},st=s("span",{class:"font-semibold"},"Type",-1),et={class:"flex justify-between"},tt=s("span",{class:"font-semibold"},"Status.",-1),ot={class:"md:w-[37.5%] w-full py-2"},at={class:"w-full p-3 h-48 grid place-items-center"},lt={class:"md:w-9/12 flex flex-col h-fit items-center text-center"},nt=s("span",{class:"text-sm"},"Ce produit est ajouter avec le consentement du proprietaire qui, accepte notre politique de vente et nos regles de confidentialites. Ajouer des produits enfin de toucher plus de clients.",-1),it={class:"bg-blue-600 flex justify-evenly mt-2 w-fit items-center p-1 rounded mr-2 text-white"},ct=x(" Ajouter un produit "),Nt={__name:"UniqueProduct",setup(dt){const $=H();Y();const e=d({}),b=d([]),_=d(""),g=d(""),j=d(""),k=d(""),m=d({}),p=d([]),h=d(!1),q=X(),F=async l=>{const o=await y.get(l);o.type==="success"&&(e.value=o.data,b.value=o.data.files.split(","),_.value=o.data.files.split(",")[0],o.data.price.length>2&&(j.value=o.data.price.split("_")[1]+" $",k.value=o.data.quantity.split("_")[1]+" pcs"))},I=async l=>{const o=await Z.getForShop(l);o.type==="success"&&(p.value=o.data!=!1&&(Array.isArray(o.data)?o.data:[o.data]))},M=async()=>{const l=await Q.getAll();if(l.type==="success"){const o=l.data.filter(f=>f.id==e.value.location);g.value=o[0]?o[0].name:"Non trouver"}},T=async()=>{const l=e.value.uploader_type.toLowerCase()=="admin"?await W.getAdmin(e.value.uploader_id):await J.getUser(e.value.uploader_id);l.type==="success"&&(m.value=l.data)},V=l=>{_.value=l},D=async()=>{const l=e.value.status==1?0:1;(await y.changeStatus(l,e.value.prod_id)).type==="success"&&(e.value.status=l)},E=async l=>{(await y.exportTo(l.id,e.value.prod_id)).type==="success"&&(h.value=!1,e.value.branch=l.name)},L=async()=>{(await y.remove(e.value.prod_id)).type==="success"&&q.back()};return z(()=>{F($.params.id).then(M).then(T).then(()=>I(e.value.shop_id))}),(l,o)=>{const f=K("router-link");return a(),i(w,null,[r(O,{keywords:"owner",description:"profile",title:e.value.prod_name},null,8,["title"]),s("div",as,[s("div",ls,[s("h1",ns,[r(U),is,s("span",cs,[ds,s("span",rs,t(e.value.prod_name),1)])]),s("span",us,[r(f,{to:"/admin/products/"+e.value.prod_id+"/update"},{default:A(()=>[s("span",_s,[r(n(G),{class:"w-6 h-6"})])]),_:1},8,["to"]),s("span",{onClick:D,class:"w-8 h-8 bg-gray-700 rounded border grid place-items-center mr-1 text-white cursor-pointer"},[e.value.status==0?(a(),u(n(ss),{key:0,class:"w-6 h-6"})):(a(),u(n(es),{key:1,class:"w-6 h-6"}))]),s("span",{onClick:L,class:"w-8 h-8 bg-red-600 rounded border grid place-items-center mr-1 text-white cursor-pointer"},[r(n(os),{class:"w-6 h-6"})]),Array.isArray(p.value)&&p.value.length>0?(a(),i("span",{key:0,onClick:o[0]||(o[0]=c=>h.value=!h.value),class:"w-8 h-8 bg-gray-200 rounded border grid place-items-center text-gray-600 cursor-pointer"},[r(n(ts),{class:"w-6 h-6"})])):B("",!0),h.value==!0?(a(),i("div",ms,[ps,(a(!0),i(w,null,S(p.value,c=>(a(),i("div",{onClick:()=>E(c),class:"hover:bg-gray-200 cursor-pointer rounded p-1",key:c.id},t(p.value.indexOf(c)+1+"."+c.name),9,hs))),128))])):B("",!0)])]),s("div",fs,[ys,s("span",vs,t(e.value.prod_name),1)]),s("div",xs,[s("div",ws,[s("div",bs,[_.value.includes("IMG")?(a(),i("img",{key:0,src:n(v)+"/products/"+_.value,class:"h-full w-full object-cover",alt:""},null,8,gs)):(a(),i("video",{key:1,autoplay:"",controls:"",onclick:"e => e.target.play()",src:n(v)+"/products/"+_.value,class:"h-full w-full"},null,8,js))]),s("div",ks,[(a(!0),i(w,null,S(b.value,c=>(a(),i("div",{class:"h-16 w-16 rounded cursor-pointer border",key:c,onClick:()=>V(c)},[c.includes("IMG")?(a(),i("img",{key:0,src:n(v)+"/products/"+c,class:"w-full transition-all duration-500 h-full object-cover"},null,8,Ns)):(a(),i("video",{key:1,autoplay:"",muted:"",onclick:"e => e.target.play()",src:n(v)+"/products/"+c,class:"h-full w-full"},null,8,As))],8,Cs))),128))])]),s("div",Bs,[s("div",Ss,[s("div",Ps,[$s,s("span",qs,t(e.value.prod_name),1)]),s("div",Fs,[Is,s("span",Ms,t(e.value.category),1)]),s("div",Ts,[Vs,s("span",Ds,t(e.value.extension),1)]),s("div",Es,[Ls,s("span",Gs,t(e.value.model),1)]),s("div",Rs,[Us,s("span",Os,t(e.value.mark),1)]),s("div",Qs,[zs,s("span",Hs,t(e.value.type),1)]),s("div",Ws,[Js,s("span",Ks,t(e.value.set_),1)])])])]),s("div",Xs,[s("div",Ys,[s("div",Zs,[s("div",se,[ee,s("span",te,t(e.value.shop),1)]),s("div",oe,[ae,s("span",le,t(e.value.branch_name||"Pas de branche"),1)]),s("div",ne,[ie,s("span",ce,t(g.value),1)]),s("div",de,[re,s("span",ue,t(e.value.full_address),1)]),s("div",_e,[me,s("span",pe,t(e.value.mark||"Non donnee"),1)]),s("div",he,[fe,s("span",ye,t(e.value.phone_shop||"Non donnee"),1)]),s("div",ve,[xe,s("span",we,t(e.value.email_shop||"Non donnee"),1)])])]),s("div",be,[s("div",ge,[s("div",je,[ke,s("span",Ce,t(j.value),1)]),s("div",Ne,[Ae,s("span",Be,t(k.value),1)]),s("div",Se,[Pe,e.value.availability==="green"?(a(),i("span",$e,"In stock")):e.value.availability==="yellow"?(a(),i("span",qe,"Small Qty")):(a(),i("span",Fe,"No Stock"))]),s("div",Ie,[Me,e.value.status==1?(a(),u(n(C),{key:0,class:"w-6 h-6 text-blue-600"})):(a(),u(n(N),{key:1,class:"w-6 h-6 text-red-600"}))]),s("div",Te,[Ve,s("span",De,t(e.value.is_brand_new==1?"New":"Old"),1)]),s("div",Ee,[Le,s("span",null,t(n(P)(e.value.created_at).format("ll")),1)]),s("div",Ge,[Re,s("span",null,t(n(P)(e.value.created_at).fromNow()),1)])])])]),s("div",Ue,[s("div",Oe,[Qe,s("div",ze,[s("div",He,[We,s("span",null,t(m.value.name),1)]),s("div",Je,[Ke,s("span",null,t(m.value.email),1)]),s("div",Xe,[Ye,s("span",null,t(m.value.phone||"No number"),1)]),s("div",Ze,[st,s("span",null,t(e.value.uploader_type),1)]),s("div",et,[tt,m.value.status==1?(a(),u(n(C),{key:0,class:"w-6 h-6 text-blue-600"})):(a(),u(n(N),{key:1,class:"w-6 h-6 text-red-600"}))])])]),s("div",ot,[s("div",at,[s("div",lt,[nt,r(f,{to:"/admin/shops/"+e.value.shop_id+"/products/create"},{default:A(()=>[s("span",it,[ct,r(n(R),{class:"w-4 ml-1 h-4"})])]),_:1},8,["to"])])])])])])],64)}}};export{Nt as default};
