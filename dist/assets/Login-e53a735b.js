import{T as d}from"./TextBox-7a965e88.js";import{r as n,c as p,b as t,a,g as h,B as x,p as v,z as _,E as g,N as y}from"./index-4f0251ba.js";import{B as w}from"./ButtonLink-43715362.js";const b={class:"w-full h-screen flex justify-center items-center"},B={class:"md:w-5/12 border w-11/12 flex h-[400px] rounded p-8 justify-center flex-col"},C=t("h1",{class:"font-semibold text-2xl text-blue-500 mb-3"},"Muyispehre",-1),k=t("h2",{class:"font-semibold text-lg text-gray-700 mb-3"},"Connexion administrateur",-1),E={class:"h-full w-full flex flex-col"},N={class:"w-full flex justify-between"},R={__name:"Login",setup(V){const u=v(),i=_(),s=n(""),o=n(""),r=n({});function c(e){e.target.name=="email"&&(s.value=e.target.value),e.target.name=="password"&&(o.value=e.target.value)}async function f(){const e=await g.login(s.value,o.value);if(e.type==="error")r.value=e.data;else if(e.type==="success"){localStorage.setItem("admin",JSON.stringify(e.data));const l=y();l.setBool(!0),l.setData(e.data),m()}}function m(){i.query.continue?u.push(i.query.continue):u.push("/admin")}return(e,l)=>(h(),p("div",b,[t("div",B,[C,k,t("form",E,[a(d,{onChange:c,type:"text",name:"email",label:"Addresse Email",value:s.value,placeholder:"Votre Email",err:r.value.email},null,8,["value","err"]),a(d,{onChange:c,type:"password",name:"password",label:"Mot de passe",value:o.value,placeholder:"Votre Mot de passe",err:r.value.password},null,8,["value","err"])]),t("div",N,[a(w,{text:"Retour Ã  l'acceuil",path:"/",variant:"default"}),a(x,{text:"Connexion",variant:"bg",design:"primary",onClick:f})])])]))}};export{R as default};
